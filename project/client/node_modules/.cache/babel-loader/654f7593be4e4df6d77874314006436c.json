{"ast":null,"code":"import axios from 'axios';\nimport * as actionTypes from '../actionTypes';\nimport { signInOfState } from './signUp';\nimport { getAuctionByIdFromDB } from '../../utils/auctionUtils';\nimport { setNewAuction } from '../../store/actions/newAuction';\nimport { signIn, loginGoogle } from '../../store/actions/signIn';\nimport { setCurrentAuction } from '../../store/actions/currentAuction';\nexport const setLogin = s => {\n  return {\n    type: actionTypes.SET_LOGIN,\n    payload: s\n  };\n};\nexport const setShowContactForm = s => {\n  //s=bool האם להציג את הטופס יצירת קשר\n  return {\n    type: actionTypes.SET_SHOW_CONTACT_FORM,\n    payload: s\n  };\n};\nexport const GetDataFromStorage = () => {\n  // var newAuctionId = localStorage.getItem(\"newAuction\");\n  // var currentAuctionId = localStorage.getItem(\"currentAuction\");\n  // return (dispatch) => {\n  //     if (newAuctionId && newAuctionId.length > 1)\n  //         axios.get(`http://localhost:5000/auctions/${newAuctionId}`).then(succ => {\n  //             if (succ.status != 400) dispatch(setNewAuction(succ.data));\n  //         }\n  //     if (currentAuctionId && currentAuctionId.length > 1)\n  //         axios.get(`http://localhost:5000/auctions/${currentAuctionId}`).then(succ => {\n  //             dispatch(setCurrentAuction(succ.data))\n  //         });\n  // }\n  return null;\n};\n_c = GetDataFromStorage;\nexport const LoginFromStorage = () => {\n  return dispatch => {\n    if (localStorage.getItem(\"login\") == \"true\") axios.get(`http://localhost:5000/users/signIn/${localStorage.getItem(\"pass\")}&${localStorage.getItem(\"email\")}`).then(succ => {\n      // dispatch(setCurrentUser(succ.data), setLogin(false)) //TODO למה לא?\n      dispatch(signInOfState(succ.data));\n    });else if (localStorage.getItem(\"login\") == \"google\") axios.get(`http://localhost:5000/users/loginGoogle/${localStorage.getItem(\"name\")}&${localStorage.getItem(\"email\")}`).then(succ => {\n      dispatch( //setCurrentUser(succ.data), setLogin(false), localStorage.setItem(\"isLogin\", true))\n      signInOfState(succ.data));\n    });else null;\n  };\n};\n/*\r\nexport const LoginFromStorage = () => {\r\n\r\n    if (localStorage.getItem(\"login\") == \"true\")\r\n        return signIn(localStorage.getItem(\"pass\"), localStorage.getItem(\"email\"));\r\n    else if (localStorage.getItem(\"login\") == \"google\")\r\n         return loginGoogle(localStorage.getItem(\"name\"), localStorage.getItem(\"email\"));\r\nreturn null\r\n}\r\n\r\nexport const GetDataFromStorage = () => {\r\n    var newAuctionId = localStorage.getItem(\"newAuction\");\r\n    var currentAuctionId = localStorage.getItem(\"currentAuction\");\r\n    if (newAuctionId && newAuctionId.length > 1)\r\n        return getAuctionByIdFromDB(newAuctionId).then(succ => {\r\n            if (succ.status != 400) setNewAuction(succ.data);\r\n        })\r\n    if (currentAuctionId && currentAuctionId.length > 1)\r\n        return getAuctionByIdFromDB(currentAuctionId).then(succ => {\r\n            if (succ.status != 400) setCurrentAuction(succ.data);\r\n        })\r\n    return null;\r\n}*/\n\n_c2 = LoginFromStorage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetDataFromStorage\");\n$RefreshReg$(_c2, \"LoginFromStorage\");","map":{"version":3,"sources":["D:/project-good/project/client/src/store/actions/home.js"],"names":["axios","actionTypes","signInOfState","getAuctionByIdFromDB","setNewAuction","signIn","loginGoogle","setCurrentAuction","setLogin","s","type","SET_LOGIN","payload","setShowContactForm","SET_SHOW_CONTACT_FORM","GetDataFromStorage","LoginFromStorage","dispatch","localStorage","getItem","get","then","succ","data"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,KAAKC,WAAZ,MAA6B,gBAA7B;AACA,SAASC,aAAT,QAA8B,UAA9B;AACA,SAASC,oBAAT,QAAqC,0BAArC;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAoC,4BAApC;AACA,SAASC,iBAAT,QAAkC,oCAAlC;AAEA,OAAO,MAAMC,QAAQ,GAAIC,CAAD,IAAO;AAC3B,SAAO;AACHC,IAAAA,IAAI,EAAET,WAAW,CAACU,SADf;AAEHC,IAAAA,OAAO,EAAEH;AAFN,GAAP;AAIH,CALM;AAMP,OAAO,MAAMI,kBAAkB,GAAIJ,CAAD,IAAO;AACrC;AACA,SAAO;AACHC,IAAAA,IAAI,EAAET,WAAW,CAACa,qBADf;AAEHF,IAAAA,OAAO,EAAEH;AAFN,GAAP;AAIH,CANM;AAQP,OAAO,MAAMM,kBAAkB,GAAG,MAAM;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAO,IAAP;AACH,CAdM;KAAMA,kB;AAgBb,OAAO,MAAMC,gBAAgB,GAAG,MAAM;AAClC,SAAQC,QAAD,IAAc;AACjB,QAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,MAArC,EACInB,KAAK,CAACoB,GAAN,CAAW,sCAAqCF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6B,IAAGD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,EAA9G,EAAiHE,IAAjH,CAAsHC,IAAI,IAAI;AAC1H;AACAL,MAAAA,QAAQ,CACJf,aAAa,CAACoB,IAAI,CAACC,IAAN,CADT,CAAR;AAGH,KALD,EADJ,KAOK,IAAIL,YAAY,CAACC,OAAb,CAAqB,OAArB,KAAiC,QAArC,EACDnB,KAAK,CAACoB,GAAN,CAAW,2CAA0CF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6B,IAAGD,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B,EAAnH,EAAsHE,IAAtH,CAA2HC,IAAI,IAAI;AAC/HL,MAAAA,QAAQ,EACJ;AACAf,MAAAA,aAAa,CAACoB,IAAI,CAACC,IAAN,CAFT,CAAR;AAIH,KALD,EADC,KAOA;AACR,GAhBD;AAiBH,CAlBM;AAmBP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MAzCaP,gB","sourcesContent":["import axios from 'axios';\r\nimport * as actionTypes from '../actionTypes';\r\nimport { signInOfState } from './signUp';\r\nimport { getAuctionByIdFromDB } from '../../utils/auctionUtils';\r\nimport { setNewAuction } from '../../store/actions/newAuction';\r\nimport { signIn, loginGoogle } from '../../store/actions/signIn';\r\nimport { setCurrentAuction } from '../../store/actions/currentAuction';\r\n\r\nexport const setLogin = (s) => {\r\n    return {\r\n        type: actionTypes.SET_LOGIN,\r\n        payload: s\r\n    }\r\n}\r\nexport const setShowContactForm = (s) => {\r\n    //s=bool האם להציג את הטופס יצירת קשר\r\n    return {\r\n        type: actionTypes.SET_SHOW_CONTACT_FORM,\r\n        payload: s\r\n    }\r\n}\r\n\r\nexport const GetDataFromStorage = () => {\r\n    // var newAuctionId = localStorage.getItem(\"newAuction\");\r\n    // var currentAuctionId = localStorage.getItem(\"currentAuction\");\r\n    // return (dispatch) => {\r\n    //     if (newAuctionId && newAuctionId.length > 1)\r\n    //         axios.get(`http://localhost:5000/auctions/${newAuctionId}`).then(succ => {\r\n    //             if (succ.status != 400) dispatch(setNewAuction(succ.data));\r\n    //         }\r\n    //     if (currentAuctionId && currentAuctionId.length > 1)\r\n    //         axios.get(`http://localhost:5000/auctions/${currentAuctionId}`).then(succ => {\r\n    //             dispatch(setCurrentAuction(succ.data))\r\n    //         });\r\n    // }\r\n    return null\r\n}\r\n\r\nexport const LoginFromStorage = () => {\r\n    return (dispatch) => {\r\n        if (localStorage.getItem(\"login\") == \"true\")\r\n            axios.get(`http://localhost:5000/users/signIn/${localStorage.getItem(\"pass\")}&${localStorage.getItem(\"email\")}`).then(succ => {\r\n                // dispatch(setCurrentUser(succ.data), setLogin(false)) //TODO למה לא?\r\n                dispatch(\r\n                    signInOfState(succ.data),\r\n                )\r\n            });\r\n        else if (localStorage.getItem(\"login\") == \"google\")\r\n            axios.get(`http://localhost:5000/users/loginGoogle/${localStorage.getItem(\"name\")}&${localStorage.getItem(\"email\")}`).then(succ => {\r\n                dispatch(\r\n                    //setCurrentUser(succ.data), setLogin(false), localStorage.setItem(\"isLogin\", true))\r\n                    signInOfState(succ.data),\r\n                )\r\n            });\r\n        else null;\r\n    }\r\n}\r\n/*\r\nexport const LoginFromStorage = () => {\r\n\r\n    if (localStorage.getItem(\"login\") == \"true\")\r\n        return signIn(localStorage.getItem(\"pass\"), localStorage.getItem(\"email\"));\r\n    else if (localStorage.getItem(\"login\") == \"google\")\r\n         return loginGoogle(localStorage.getItem(\"name\"), localStorage.getItem(\"email\"));\r\nreturn null\r\n}\r\n\r\nexport const GetDataFromStorage = () => {\r\n    var newAuctionId = localStorage.getItem(\"newAuction\");\r\n    var currentAuctionId = localStorage.getItem(\"currentAuction\");\r\n    if (newAuctionId && newAuctionId.length > 1)\r\n        return getAuctionByIdFromDB(newAuctionId).then(succ => {\r\n            if (succ.status != 400) setNewAuction(succ.data);\r\n        })\r\n    if (currentAuctionId && currentAuctionId.length > 1)\r\n        return getAuctionByIdFromDB(currentAuctionId).then(succ => {\r\n            if (succ.status != 400) setCurrentAuction(succ.data);\r\n        })\r\n    return null;\r\n}*/"]},"metadata":{},"sourceType":"module"}