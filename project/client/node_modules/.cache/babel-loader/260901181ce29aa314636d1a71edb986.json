{"ast":null,"code":"var _jsxFileName = \"D:\\\\project-good\\\\project\\\\client\\\\src\\\\components\\\\new auction\\\\ContinueNewAuction.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\n// import React, { useEffect, useState } from 'react';\n// import { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\n// import { ThemeContext } from '@emotion/react';\n// import { Link } from 'react-router-dom';\n// import { connect } from \"react-redux\";\n// import { setNewAuction } from '../../store/actions/newAuction'\n// const ContinueNewAuction = (props) => {\n//     const [auctionsList, setAuctionsList] = useState([]);//המכירות שלו שעדיין לא אושרו לתצוגה\n//     useEffect(() => {\n//         getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => { setAuctionsList(succ.data) });\n//         //TODO למה המערכים של המוצרים והחבילות מגיעים ריקים מתוכן\n//     }, []);\n//     return (\n//         <>\n//             <h1>Continue New Auction</h1>\n//             {auctionsList && auctionsList.map((a, index) => {\n//                 return <><Link to={'/new_auction'} key={a._id} onClick={() => props.setNewAuction(auctionsList[index])}>{index + 1 + ')  '}{a.name}</Link><br /></>\n//             })}\n//         </>\n//     );\n// }\n// //TODO לעשות כאן\n// const mapStateToProps = (state) => {\n//     return {\n//         currentUser: state.user.currentUser\n//     };\n// }\n// export default connect(mapStateToProps, { setNewAuction })(ContinueNewAuction);\nimport React, { useEffect, useState } from 'react';\nimport Box from '@mui/material/Box';\nimport Collapse from '@mui/material/Collapse';\nimport IconButton from '@mui/material/IconButton';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Typography from '@mui/material/Typography';\nimport Paper from '@mui/material/Paper';\nimport KeyboardArrowDownIcon from '../../img/icons/arrow-down.png';\nimport KeyboardArrowUpIcon from '../../img/icons/arrow-up.png';\nimport { Link } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { setNewAuction } from '../../store/actions/newAuction';\nimport { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst createData = auction => {\n  console.log(auction); // let name, productsQty, purchasePackages, lotteriesDate;\n\n  let name = auction.name;\n  let productsQty = auction.productList;\n  let purchasePackages = auction.purchasePackage;\n  let lotteriesDate = auction.lotteriesDate;\n  if (productsQty) productsQty = productsQty.length;else productsQty = 0;\n  if (purchasePackages) purchasePackages = purchasePackages.length;else purchasePackages = 0;\n  return {\n    name,\n    productsQty,\n    purchasePackages,\n    lotteriesDate,\n\n    /*auctionManager: \"611c2f2e18f13934fc07bc27\"\r\n    lotteryApproval: false\r\n    organizationName: \"name1\"\r\n    organizationPhotos: ['']\r\n    organizationText: \"1eeeeeeeeeeeeee\"\r\n    productList: (4) [{…}, {…}, {…}, {…}]\r\n    publicationApproval: false\r\n    purchasePackage: (3) [{…}, {…}, {…}]\r\n    status: \"DONE\"*/\n    history: [{\n      date: '2020-01-05',\n      customerId: '11091700',\n      amount: 3\n    }, {\n      date: '2020-01-02',\n      customerId: 'Anonymous',\n      amount: 1\n    }]\n  };\n};\n\nconst Row = props => {\n  _s();\n\n  const {\n    row\n  } = props;\n  const [open, setOpen] = React.useState(false);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(TableRow, {\n      sx: {\n        '& > *': {\n          borderBottom: 'unset'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(TableCell, {\n        children: /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"expand row\",\n          size: \"small\",\n          onClick: () => setOpen(!open),\n          children: open ? /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"view-details-icon\",\n            src: KeyboardArrowUpIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"view-details-icon\",\n            src: KeyboardArrowDownIcon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        component: \"th\",\n        scope: \"row\",\n        children: row.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: row.productsQty\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: row.purchasePackages\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n        align: \"right\",\n        children: row.lotteriesDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n      children: /*#__PURE__*/_jsxDEV(TableCell, {\n        style: {\n          paddingBottom: 0,\n          paddingTop: 0\n        },\n        colSpan: 6,\n        children: /*#__PURE__*/_jsxDEV(Collapse, {\n          in: open,\n          timeout: \"auto\",\n          unmountOnExit: true,\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              margin: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h6\",\n              gutterBottom: true,\n              component: \"div\",\n              children: \"History\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Table, {\n              size: \"small\",\n              \"aria-label\": \"purchases\",\n              children: [/*#__PURE__*/_jsxDEV(TableHead, {\n                children: /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Date\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: \"Customer\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: \"Amount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: \"Total price ($)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n                children: row.history.map(historyRow => /*#__PURE__*/_jsxDEV(TableRow, {\n                  children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                    component: \"th\",\n                    scope: \"row\",\n                    children: historyRow.date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 135,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    children: historyRow.customerId\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 138,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: historyRow.amount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 45\n                  }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                    align: \"right\",\n                    children: Math.round(historyRow.amount * row.price * 100) / 100\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 140,\n                    columnNumber: 45\n                  }, this)]\n                }, historyRow.date, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 41\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n}; // const rows = auctionsList && auctionsList.map(a => createData(a));\n// [\n// createData('Frozen yoghurt', 159, 6.0, 24)\n// createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\n// createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\n// createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\n// createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\n// ];\n\n\n_s(Row, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n\n_c = Row;\n\nconst ContinueNewAuction = props => {\n  _s2();\n\n  const [auctionsList, setAuctionsList] = useState([]); //המכירות שלו שעדיין לא אושרו לתצוגה\n  // const [auctionsListData, setAuctionsListData] = useState([]);//המכירות שלו שעדיין לא אושרו לתצוגה\n\n  useEffect(() => {\n    getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => {\n      if (succ.status != 400) {\n        setAuctionsList(succ.data);\n        console.log(succ.data);\n      } // auctionsList.map(a=>{})\n\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(TableContainer, {\n    component: Paper,\n    id: \"unapproved-auctions-list\",\n    children: /*#__PURE__*/_jsxDEV(Table, {\n      \"aria-label\": \"collapsible table\",\n      children: [/*#__PURE__*/_jsxDEV(TableHead, {\n        children: /*#__PURE__*/_jsxDEV(TableRow, {\n          children: [/*#__PURE__*/_jsxDEV(TableCell, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n            children: \"Chiense auction name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Purchase packages\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Products\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n            align: \"right\",\n            children: \"Lotteries date\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n        children: [console.log(auctionsList), auctionsList.map(a => {\n          let row = createData(a);\n\n          /*#__PURE__*/\n          _jsxDEV(Row, {\n            row: row\n          }, row.name, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 9\n  }, this);\n}; //TODO לעשות כאן\n\n\n_s2(ContinueNewAuction, \"afF+GET59T1HDXbFYtqM3TA+Wvg=\");\n\n_c2 = ContinueNewAuction;\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.user.currentUser\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setNewAuction\n})(ContinueNewAuction);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Row\");\n$RefreshReg$(_c2, \"ContinueNewAuction\");","map":{"version":3,"sources":["D:/project-good/project/client/src/components/new auction/ContinueNewAuction.js"],"names":["React","useEffect","useState","Box","Collapse","IconButton","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Typography","Paper","KeyboardArrowDownIcon","KeyboardArrowUpIcon","Link","connect","setNewAuction","getUnapprovedAuctionsByUserFromDB","createData","auction","console","log","name","productsQty","productList","purchasePackages","purchasePackage","lotteriesDate","length","history","date","customerId","amount","Row","props","row","open","setOpen","borderBottom","paddingBottom","paddingTop","margin","map","historyRow","Math","round","price","ContinueNewAuction","auctionsList","setAuctionsList","currentUser","_id","then","succ","status","data","a","mapStateToProps","state","user"],"mappings":"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","sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\r\n// import { ThemeContext } from '@emotion/react';\r\n// import { Link } from 'react-router-dom';\r\n// import { connect } from \"react-redux\";\r\n// import { setNewAuction } from '../../store/actions/newAuction'\r\n\r\n// const ContinueNewAuction = (props) => {\r\n//     const [auctionsList, setAuctionsList] = useState([]);//המכירות שלו שעדיין לא אושרו לתצוגה\r\n\r\n//     useEffect(() => {\r\n//         getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => { setAuctionsList(succ.data) });\r\n//         //TODO למה המערכים של המוצרים והחבילות מגיעים ריקים מתוכן\r\n//     }, []);\r\n\r\n//     return (\r\n//         <>\r\n//             <h1>Continue New Auction</h1>\r\n//             {auctionsList && auctionsList.map((a, index) => {\r\n//                 return <><Link to={'/new_auction'} key={a._id} onClick={() => props.setNewAuction(auctionsList[index])}>{index + 1 + ')  '}{a.name}</Link><br /></>\r\n//             })}\r\n//         </>\r\n//     );\r\n// }\r\n\r\n// //TODO לעשות כאן\r\n// const mapStateToProps = (state) => {\r\n//     return {\r\n//         currentUser: state.user.currentUser\r\n//     };\r\n// }\r\n// export default connect(mapStateToProps, { setNewAuction })(ContinueNewAuction);\r\nimport React, { useEffect, useState } from 'react';\r\nimport Box from '@mui/material/Box';\r\nimport Collapse from '@mui/material/Collapse';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Typography from '@mui/material/Typography';\r\nimport Paper from '@mui/material/Paper';\r\nimport KeyboardArrowDownIcon from '../../img/icons/arrow-down.png'\r\nimport KeyboardArrowUpIcon from '../../img/icons/arrow-up.png'\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from \"react-redux\";\r\nimport { setNewAuction } from '../../store/actions/newAuction'\r\nimport { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\r\n\r\nconst createData = (auction) => {\r\n    console.log(auction)\r\n    // let name, productsQty, purchasePackages, lotteriesDate;\r\n    let name = auction.name;\r\n    let productsQty = auction.productList;\r\n    let purchasePackages = auction.purchasePackage;\r\n    let lotteriesDate = auction.lotteriesDate;\r\n    if (productsQty) productsQty = productsQty.length;\r\n    else productsQty = 0;\r\n    if (purchasePackages) purchasePackages = purchasePackages.length;\r\n    else purchasePackages = 0;\r\n    return {\r\n        name, productsQty, purchasePackages, lotteriesDate,\r\n        /*auctionManager: \"611c2f2e18f13934fc07bc27\"\r\nlotteryApproval: false\r\norganizationName: \"name1\"\r\norganizationPhotos: ['']\r\norganizationText: \"1eeeeeeeeeeeeee\"\r\nproductList: (4) [{…}, {…}, {…}, {…}]\r\npublicationApproval: false\r\npurchasePackage: (3) [{…}, {…}, {…}]\r\nstatus: \"DONE\"*/\r\n\r\n        history: [\r\n            {\r\n                date: '2020-01-05',\r\n                customerId: '11091700',\r\n                amount: 3,\r\n            },\r\n            {\r\n                date: '2020-01-02',\r\n                customerId: 'Anonymous',\r\n                amount: 1,\r\n            },\r\n        ],\r\n    };\r\n}\r\n\r\nconst Row = (props) => {\r\n    const { row } = props;\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    return (\r\n        <React.Fragment >\r\n            <TableRow sx={{ '& > *': { borderBottom: 'unset' } }}>\r\n                <TableCell>\r\n                    <IconButton\r\n                        aria-label=\"expand row\"\r\n                        size=\"small\"\r\n                        onClick={() => setOpen(!open)}\r\n                    >\r\n                        {open ?\r\n                            <img className=\"view-details-icon\" src={KeyboardArrowUpIcon} />\r\n                            : <img className=\"view-details-icon\" src={KeyboardArrowDownIcon} />}\r\n                    </IconButton>\r\n                </TableCell>\r\n                <TableCell component=\"th\" scope=\"row\">\r\n                    {row.name}\r\n                </TableCell>\r\n                <TableCell align=\"right\">{row.productsQty}</TableCell>\r\n                <TableCell align=\"right\">{row.purchasePackages}</TableCell>\r\n                <TableCell align=\"right\">{row.lotteriesDate}</TableCell>\r\n                {/* <TableCell align=\"right\">{row.protein}</TableCell> */}\r\n            </TableRow>\r\n            <TableRow>\r\n                <TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\r\n                    <Collapse in={open} timeout=\"auto\" unmountOnExit>\r\n                        <Box sx={{ margin: 1 }}>\r\n                            <Typography variant=\"h6\" gutterBottom component=\"div\">\r\n                                History\r\n                            </Typography>\r\n                            <Table size=\"small\" aria-label=\"purchases\">\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                        <TableCell>Date</TableCell>\r\n                                        <TableCell>Customer</TableCell>\r\n                                        <TableCell align=\"right\">Amount</TableCell>\r\n                                        <TableCell align=\"right\">Total price ($)</TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {row.history.map((historyRow) => (\r\n                                        <TableRow key={historyRow.date}>\r\n                                            <TableCell component=\"th\" scope=\"row\">\r\n                                                {historyRow.date}\r\n                                            </TableCell>\r\n                                            <TableCell>{historyRow.customerId}</TableCell>\r\n                                            <TableCell align=\"right\">{historyRow.amount}</TableCell>\r\n                                            <TableCell align=\"right\">\r\n                                                {Math.round(historyRow.amount * row.price * 100) / 100}\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        </Box>\r\n                    </Collapse>\r\n                </TableCell>\r\n            </TableRow>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\n// const rows = auctionsList && auctionsList.map(a => createData(a));\r\n// [\r\n// createData('Frozen yoghurt', 159, 6.0, 24)\r\n// createData('Ice cream sandwich', 237, 9.0, 37, 4.3, 4.99),\r\n// createData('Eclair', 262, 16.0, 24, 6.0, 3.79),\r\n// createData('Cupcake', 305, 3.7, 67, 4.3, 2.5),\r\n// createData('Gingerbread', 356, 16.0, 49, 3.9, 1.5),\r\n// ];\r\n\r\nconst ContinueNewAuction = (props) => {\r\n\r\n    const [auctionsList, setAuctionsList] = useState([]);//המכירות שלו שעדיין לא אושרו לתצוגה\r\n    // const [auctionsListData, setAuctionsListData] = useState([]);//המכירות שלו שעדיין לא אושרו לתצוגה\r\n\r\n    useEffect(() => {\r\n        getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => {\r\n            if (succ.status != 400) {\r\n                setAuctionsList(succ.data);\r\n                console.log(succ.data);\r\n            }\r\n            // auctionsList.map(a=>{})\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <TableContainer component={Paper} id={\"unapproved-auctions-list\"}>\r\n            <Table aria-label=\"collapsible table\">\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell /> {/* האייקון של פתח/סגור */}\r\n                        <TableCell>Chiense auction name</TableCell>\r\n                        <TableCell align=\"right\">Purchase packages</TableCell>\r\n                        <TableCell align=\"right\">Products</TableCell>\r\n                        <TableCell align=\"right\">Lotteries date</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {console.log(auctionsList)}\r\n                    {auctionsList.map((a) => {\r\n                        let row = createData(a);\r\n                        <Row key={row.name} row={row} />\r\n                    })}\r\n                    {/* {rows.map((row) => (\r\n                        <Row key={row.name} row={row} />\r\n                    ))} */}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n//TODO לעשות כאן\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.user.currentUser\r\n    };\r\n}\r\nexport default connect(mapStateToProps, { setNewAuction })(ContinueNewAuction);"]},"metadata":{},"sourceType":"module"}