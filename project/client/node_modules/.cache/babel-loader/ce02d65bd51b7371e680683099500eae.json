{"ast":null,"code":"var _jsxFileName = \"D:\\\\project-good\\\\project\\\\client\\\\src\\\\components\\\\main\\\\Statistics.js\",\n    _s = $RefreshSig$();\n\nimport { connect } from \"react-redux\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport { getHighestRevenueAuctionsFromDB, getTotalRevenueAllAuctionsFromDB } from '../../utils/mainUtils';\nimport StatisticsCard from \"./StatisticsCard\";\nimport './Statistics.scss';\nimport s from '../../img/statictis.jpg';\nimport pic from '../../img/x2.jpg';\nimport pic2 from '../../img/defaultLogo.jpg';\nimport { getBestSellingProductFromDB } from \"../../utils/mainUtils\"; //גם אם יש כמה מוצרים בעלי אותה כמות הזמנות, יחזור רק אחד מהם.\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Statistics = props => {\n  _s();\n\n  const [highestRevenueAuctions, setHighestRevenueAuctions] = useState(null);\n  const [totalRevenueAllAuctions, setTotalRevenueAllAuctions] = useState([0]);\n  const [bestSellingProduct, setBestSellingProduct] = useState(null);\n  useEffect(() => {\n    getHighestRevenueAuctionsFromDB().then(succ => {\n      if (succ.status != 400) setHighestRevenueAuctions(succ.data);\n    });\n    getTotalRevenueAllAuctionsFromDB().then(succ => {\n      if (succ.status != 400) setTotalRevenueAllAuctions(succ.data);\n    });\n    getBestSellingProductFromDB().then(succ => {\n      if (succ.status != 400) setBestSellingProduct(succ.data);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"results-container\",\n      children: [bestSellingProduct && bestSellingProduct.product && /*#__PURE__*/_jsxDEV(StatisticsCard, {\n        logo: bestSellingProduct.product.image || pic,\n        btn: bestSellingProduct.isActive,\n        _id: bestSellingProduct.auction._id,\n        title: \"The product with the most orders: \" + bestSellingProduct.product.name,\n        content: \"Of all the products on the site, this product won the highest number of orders. The product has been ordered \" + /*#__PURE__*/_jsxDEV(\"b\", {\n          children: [bestSellingProduct.qty, \" times.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 11\n        }, this) + \" This product is from the Chinese auction that \" + bestSellingProduct.auction.name + \".\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 25,\n        columnNumber: 60\n      }, this), /*#__PURE__*/_jsxDEV(StatisticsCard, {\n        logo: s,\n        title: \"Total revenue all chienes auctions: \" + totalRevenueAllAuctions[0].total + \"$\",\n        content: \"All proceeds from the purchase of the site's users in all Chinese auctions since the site was established.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 7\n      }, this), highestRevenueAuctions && highestRevenueAuctions.map(item => {\n        return /*#__PURE__*/_jsxDEV(StatisticsCard, {\n          btn: item.isActive,\n          _id: item.auctionId,\n          logo: item.logo || pic2,\n          title: item.auctionName + \": \" + item.total + \"$\",\n          content: \"The Chinese auction that managed to get the most money. The chiense auction with the most revenue. From the purchases of the site's users\"\n        }, item.auctionId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 16\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Statistics, \"HiUOkvqiZrjmm6OO8Rn3fZTM7qg=\");\n\n_c = Statistics;\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nexport default connect(mapStateToProps, {})(Statistics);\n\nvar _c;\n\n$RefreshReg$(_c, \"Statistics\");","map":{"version":3,"sources":["D:/project-good/project/client/src/components/main/Statistics.js"],"names":["connect","React","useEffect","useState","useRef","getHighestRevenueAuctionsFromDB","getTotalRevenueAllAuctionsFromDB","StatisticsCard","s","pic","pic2","getBestSellingProductFromDB","Statistics","props","highestRevenueAuctions","setHighestRevenueAuctions","totalRevenueAllAuctions","setTotalRevenueAllAuctions","bestSellingProduct","setBestSellingProduct","then","succ","status","data","product","image","isActive","auction","_id","name","qty","total","map","item","auctionId","logo","auctionName","mapStateToProps","state"],"mappings":"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","sourcesContent":["import { connect } from \"react-redux\";\r\nimport React, { useEffect, useState, useRef } from 'react';\r\nimport { getHighestRevenueAuctionsFromDB, getTotalRevenueAllAuctionsFromDB } from '../../utils/mainUtils'\r\nimport StatisticsCard from \"./StatisticsCard\";\r\nimport './Statistics.scss'\r\nimport s from '../../img/statictis.jpg'\r\nimport pic from '../../img/x2.jpg'\r\nimport pic2 from '../../img/defaultLogo.jpg'\r\nimport { getBestSellingProductFromDB } from \"../../utils/mainUtils\";//גם אם יש כמה מוצרים בעלי אותה כמות הזמנות, יחזור רק אחד מהם.\r\n\r\n\r\nconst Statistics = (props) => {\r\n  const [highestRevenueAuctions, setHighestRevenueAuctions] = useState(null);\r\n  const [totalRevenueAllAuctions, setTotalRevenueAllAuctions] = useState([0]);\r\n  const [bestSellingProduct, setBestSellingProduct] = useState(null);\r\n  useEffect(() => {\r\n    getHighestRevenueAuctionsFromDB().then(succ => { if (succ.status != 400) setHighestRevenueAuctions(succ.data) })\r\n    getTotalRevenueAllAuctionsFromDB().then(succ => { if (succ.status != 400) setTotalRevenueAllAuctions(succ.data) })\r\n    getBestSellingProductFromDB().then(succ => { if (succ.status != 400) setBestSellingProduct(succ.data) })\r\n  }, [])\r\n  return (<>\r\n\r\n    <br />\r\n    <div id=\"results-container\">\r\n      {bestSellingProduct && bestSellingProduct.product && <StatisticsCard\r\n        logo={bestSellingProduct.product.image || pic}\r\n        btn={bestSellingProduct.isActive}\r\n        _id={bestSellingProduct.auction._id}\r\n        title=\r\n        {\"The product with the most orders: \" + bestSellingProduct.product.name}\r\n        content=\r\n        {\"Of all the products on the site, this product won the highest number of orders. The product has been ordered \" +\r\n          <b>{bestSellingProduct.qty} times.</b> +\r\n          \" This product is from the Chinese auction that \" +\r\n          bestSellingProduct.auction.name + \".\"} />\r\n      }\r\n\r\n      <StatisticsCard logo={s}\r\n        title={\"Total revenue all chienes auctions: \"\r\n          + totalRevenueAllAuctions[0].total + \"$\"}\r\n        content={\"All proceeds from the purchase of the site's users in all Chinese auctions since the site was established.\"} />\r\n      {highestRevenueAuctions && highestRevenueAuctions.map(item => {\r\n        return <StatisticsCard\r\n          btn={item.isActive}\r\n          key={item.auctionId}\r\n          _id={item.auctionId}\r\n          logo={item.logo || pic2}\r\n          title={item.auctionName + \": \" + item.total + \"$\"}\r\n          content={\"The Chinese auction that managed to get the most money. The chiense auction with the most revenue. From the purchases of the site's users\"} />\r\n      })}\r\n    </div>\r\n  </>);\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n  }\r\n}\r\nexport default connect(mapStateToProps, {})(Statistics);\r\n"]},"metadata":{},"sourceType":"module"}