{"ast":null,"code":"import * as actionTypes from '../actionTypes';\nexport const initialState = {\n  currentUser: null,\n  loginIsOpen: false,\n  ordersList: [] //?\n\n};\nexport const userReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_LOGIN:\n      return { ...state,\n        loginIsOpen: action.payload\n      };\n\n    case actionTypes.SET_CURRENT_USER:\n      {\n        return { ...state,\n          currentUser: action.payload\n        };\n      }\n\n    case actionTypes.SIGN_IN_OF_STATE:\n      {\n        return { ...state,\n          currentUser: action.payload,\n          loginIsOpen: false\n        };\n      }\n\n    case actionTypes.ADD_PRODUCT_TO_CART:\n      {\n        let _id = action.payload.product._id;\n        let cnt = action.payload.cnt;\n        let index = state.shoppingCart.findIndex(item => item.product._id == _id);\n        let arr = [...state.shoppingCart];\n        if (index == -1) arr.push(action.payload);else arr[index].cnt += cnt;\n        return { ...state,\n          shoppingCart: arr\n        };\n      }\n\n    case actionTypes.DELETE_PRODUCT_FROM_CART:\n      {\n        let arr2 = state.shoppingCart.filter(p => p.product._id !== action.payload);\n        return { ...state,\n          shoppingCart: arr2\n        };\n      }\n\n    case actionTypes.SET_CNT_PRODUCT_IN_CART:\n      {\n        let _id = action.payload._id;\n        let cnt = action.payload.cnt;\n        let index = state.shoppingCart.findIndex(item => item.product._id == _id);\n        let arr = [...state.shoppingCart];\n        if (index != -1) arr[index].cnt = cnt;\n        return { ...state,\n          shoppingCart: arr\n        };\n      }\n\n    case actionTypes.SIGN_OUT:\n      {\n        //יציאת משתמש\n        //איפוס נתונים\n        return {\n          currentUser: null,\n          loginIsOpen: false,\n          yourProfileIsOpen: false,\n          shoppingCart: null\n        };\n      }\n\n    case actionTypes.UPDATE_USER_STATE:\n      {\n        //עידכון משתמש נוכחי\n        return { ...state,\n          shoppingCart: action.payload\n        };\n      }\n\n    case actionTypes.SET_USER_ORDERS:\n      {\n        return { ...state,\n          ordersList: action.payload\n        };\n      }\n  }\n\n  return state;\n};","map":{"version":3,"sources":["D:/project-good/project/client/src/store/reducers/userState.js"],"names":["actionTypes","initialState","currentUser","loginIsOpen","ordersList","userReducer","state","action","type","SET_LOGIN","payload","SET_CURRENT_USER","SIGN_IN_OF_STATE","ADD_PRODUCT_TO_CART","_id","product","cnt","index","shoppingCart","findIndex","item","arr","push","DELETE_PRODUCT_FROM_CART","arr2","filter","p","SET_CNT_PRODUCT_IN_CART","SIGN_OUT","yourProfileIsOpen","UPDATE_USER_STATE","SET_USER_ORDERS"],"mappings":"AAAA,OAAO,KAAKA,WAAZ,MAA6B,gBAA7B;AACA,OAAO,MAAMC,YAAY,GAAG;AACxBC,EAAAA,WAAW,EAAE,IADW;AAExBC,EAAAA,WAAW,EAAE,KAFW;AAGxBC,EAAAA,UAAU,EAAC,EAHa,CAGV;;AAHU,CAArB;AAKP,OAAO,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGL,YAAT,EAAuBM,MAAvB,KAAkC;AACzD,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKR,WAAW,CAACS,SAAjB;AACI,aAAO,EACH,GAAGH,KADA;AAEHH,QAAAA,WAAW,EAAEI,MAAM,CAACG;AAFjB,OAAP;;AAIJ,SAAKV,WAAW,CAACW,gBAAjB;AACI;AACI,eAAO,EACH,GAAGL,KADA;AAEHJ,UAAAA,WAAW,EAAEK,MAAM,CAACG;AAFjB,SAAP;AAIH;;AACL,SAAKV,WAAW,CAACY,gBAAjB;AAAmC;AAC/B,eAAO,EACH,GAAGN,KADA;AAEHJ,UAAAA,WAAW,EAAEK,MAAM,CAACG,OAFjB;AAGHP,UAAAA,WAAW,EAAE;AAHV,SAAP;AAKH;;AACD,SAAKH,WAAW,CAACa,mBAAjB;AACI;AACI,YAAIC,GAAG,GAAGP,MAAM,CAACG,OAAP,CAAeK,OAAf,CAAuBD,GAAjC;AACA,YAAIE,GAAG,GAAGT,MAAM,CAACG,OAAP,CAAeM,GAAzB;AACA,YAAIC,KAAK,GAAGX,KAAK,CAACY,YAAN,CAAmBC,SAAnB,CAA6BC,IAAI,IAAIA,IAAI,CAACL,OAAL,CAAaD,GAAb,IAAoBA,GAAzD,CAAZ;AACA,YAAIO,GAAG,GAAG,CAAC,GAAGf,KAAK,CAACY,YAAV,CAAV;AACA,YAAID,KAAK,IAAI,CAAC,CAAd,EAAiBI,GAAG,CAACC,IAAJ,CAASf,MAAM,CAACG,OAAhB,EAAjB,KACKW,GAAG,CAACJ,KAAD,CAAH,CAAWD,GAAX,IAAkBA,GAAlB;AACL,eAAO,EACH,GAAGV,KADA;AAEHY,UAAAA,YAAY,EAAEG;AAFX,SAAP;AAIH;;AACL,SAAKrB,WAAW,CAACuB,wBAAjB;AACI;AACI,YAAIC,IAAI,GAAGlB,KAAK,CAACY,YAAN,CACPO,MADO,CACAC,CAAC,IAAIA,CAAC,CAACX,OAAF,CAAUD,GAAV,KAAkBP,MAAM,CAACG,OAD9B,CAAX;AAEA,eAAO,EACH,GAAGJ,KADA;AAEHY,UAAAA,YAAY,EAAEM;AAFX,SAAP;AAIH;;AACL,SAAKxB,WAAW,CAAC2B,uBAAjB;AACI;AACI,YAAIb,GAAG,GAAGP,MAAM,CAACG,OAAP,CAAeI,GAAzB;AACA,YAAIE,GAAG,GAAGT,MAAM,CAACG,OAAP,CAAeM,GAAzB;AACA,YAAIC,KAAK,GAAGX,KAAK,CAACY,YAAN,CAAmBC,SAAnB,CAA6BC,IAAI,IAAIA,IAAI,CAACL,OAAL,CAAaD,GAAb,IAAoBA,GAAzD,CAAZ;AACA,YAAIO,GAAG,GAAG,CAAC,GAAGf,KAAK,CAACY,YAAV,CAAV;AACA,YAAID,KAAK,IAAI,CAAC,CAAd,EAAiBI,GAAG,CAACJ,KAAD,CAAH,CAAWD,GAAX,GAAiBA,GAAjB;AACjB,eAAO,EACH,GAAGV,KADA;AAEHY,UAAAA,YAAY,EAAEG;AAFX,SAAP;AAIH;;AACL,SAAKrB,WAAW,CAAC4B,QAAjB;AACI;AACI;AACA;AACA,eAAO;AACH1B,UAAAA,WAAW,EAAE,IADV;AAEHC,UAAAA,WAAW,EAAE,KAFV;AAGH0B,UAAAA,iBAAiB,EAAE,KAHhB;AAIHX,UAAAA,YAAY,EAAE;AAJX,SAAP;AAMH;;AACL,SAAKlB,WAAW,CAAC8B,iBAAjB;AAAoC;AAChC;AACA,eAAO,EACH,GAAGxB,KADA;AAEHY,UAAAA,YAAY,EAAEX,MAAM,CAACG;AAFlB,SAAP;AAIH;;AACD,SAAMV,WAAW,CAAC+B,eAAlB;AAAkC;AAC9B,eAAM,EACF,GAAGzB,KADD;AAEFF,UAAAA,UAAU,EAACG,MAAM,CAACG;AAFhB,SAAN;AAIH;AA7EL;;AA+EA,SAAOJ,KAAP;AACH,CAjFM","sourcesContent":["import * as actionTypes from '../actionTypes';\r\nexport const initialState = {\r\n    currentUser: null,\r\n    loginIsOpen: false,\r\n    ordersList:[],//?\r\n}\r\nexport const userReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.SET_LOGIN:\r\n            return {\r\n                ...state,\r\n                loginIsOpen: action.payload\r\n            }\r\n        case actionTypes.SET_CURRENT_USER:\r\n            {\r\n                return {\r\n                    ...state,\r\n                    currentUser: action.payload,\r\n                }\r\n            }\r\n        case actionTypes.SIGN_IN_OF_STATE: {\r\n            return {\r\n                ...state,\r\n                currentUser: action.payload,\r\n                loginIsOpen: false\r\n            }\r\n        }\r\n        case actionTypes.ADD_PRODUCT_TO_CART:\r\n            {\r\n                let _id = action.payload.product._id;\r\n                let cnt = action.payload.cnt;\r\n                let index = state.shoppingCart.findIndex(item => item.product._id == _id);\r\n                let arr = [...state.shoppingCart];\r\n                if (index == -1) arr.push(action.payload);\r\n                else arr[index].cnt += cnt;\r\n                return {\r\n                    ...state,\r\n                    shoppingCart: arr\r\n                }\r\n            }\r\n        case actionTypes.DELETE_PRODUCT_FROM_CART:\r\n            {\r\n                let arr2 = state.shoppingCart.\r\n                    filter(p => p.product._id !== action.payload)\r\n                return {\r\n                    ...state,\r\n                    shoppingCart: arr2\r\n                }\r\n            }\r\n        case actionTypes.SET_CNT_PRODUCT_IN_CART:\r\n            {\r\n                let _id = action.payload._id;\r\n                let cnt = action.payload.cnt;\r\n                let index = state.shoppingCart.findIndex(item => item.product._id == _id);\r\n                let arr = [...state.shoppingCart];\r\n                if (index != -1) arr[index].cnt = cnt;\r\n                return {\r\n                    ...state,\r\n                    shoppingCart: arr\r\n                }\r\n            }\r\n        case actionTypes.SIGN_OUT:\r\n            {\r\n                //יציאת משתמש\r\n                //איפוס נתונים\r\n                return {\r\n                    currentUser: null,\r\n                    loginIsOpen: false,\r\n                    yourProfileIsOpen: false,\r\n                    shoppingCart: null\r\n                }\r\n            }\r\n        case actionTypes.UPDATE_USER_STATE: {\r\n            //עידכון משתמש נוכחי\r\n            return {\r\n                ...state,\r\n                shoppingCart: action.payload,\r\n            }\r\n        }\r\n        case  actionTypes.SET_USER_ORDERS:{\r\n            return{\r\n                ...state,\r\n                ordersList:action.payload\r\n            }\r\n        }\r\n    }\r\n    return state;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}