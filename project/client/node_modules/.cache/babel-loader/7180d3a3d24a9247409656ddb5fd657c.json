{"ast":null,"code":"import { BATCH_STATES, createBatchItem } from \"@rpldy/shared\";\nimport { DEFAULT_FILTER } from \"./defaults\";\nimport { getIsFileList } from \"./utils\";\nlet bCounter = 0;\n\nconst processFiles = (batchId, files, isPending, fileFilter) => Array.prototype //$FlowExpectedError[method-unbinding] flow 0.153 !!!\n.filter.call(files, fileFilter || DEFAULT_FILTER).map(f => createBatchItem(f, batchId, isPending));\n\nexport default ((files, uploaderId, options) => {\n  bCounter += 1;\n  const id = `batch-${bCounter}`;\n  const isFileList = getIsFileList(files);\n  files = Array.isArray(files) || isFileList ? files : [files];\n  const isPending = !options.autoUpload;\n  const items = processFiles(id, files, isPending, options.fileFilter);\n  return {\n    id,\n    uploaderId,\n    items,\n    state: isPending ? BATCH_STATES.PENDING : BATCH_STATES.ADDED,\n    completed: 0,\n    loaded: 0,\n    orgItemCount: items.length\n  };\n});","map":{"version":3,"sources":["C:/Users/USER/Documents/GitHub/project-good/project/client/node_modules/@rpldy/uploader/lib/esm/batch.js"],"names":["BATCH_STATES","createBatchItem","DEFAULT_FILTER","getIsFileList","bCounter","processFiles","batchId","files","isPending","fileFilter","Array","prototype","filter","call","map","f","uploaderId","options","id","isFileList","isArray","autoUpload","items","state","PENDING","ADDED","completed","loaded","orgItemCount","length"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,eAAvB,QAA8C,eAA9C;AACA,SAASC,cAAT,QAA+B,YAA/B;AACA,SAASC,aAAT,QAA8B,SAA9B;AACA,IAAIC,QAAQ,GAAG,CAAf;;AAEA,MAAMC,YAAY,GAAG,CAACC,OAAD,EAAUC,KAAV,EAAiBC,SAAjB,EAA4BC,UAA5B,KAA2CC,KAAK,CAACC,SAAN,CAAgB;AAAhB,CAC/DC,MAD+D,CACxDC,IADwD,CACnDN,KADmD,EAC5CE,UAAU,IAAIP,cAD8B,EACdY,GADc,CACVC,CAAC,IAAId,eAAe,CAACc,CAAD,EAAIT,OAAJ,EAAaE,SAAb,CADV,CAAhE;;AAGA,gBAAgB,CAACD,KAAD,EAAQS,UAAR,EAAoBC,OAApB,KAAgC;AAC9Cb,EAAAA,QAAQ,IAAI,CAAZ;AACA,QAAMc,EAAE,GAAI,SAAQd,QAAS,EAA7B;AACA,QAAMe,UAAU,GAAGhB,aAAa,CAACI,KAAD,CAAhC;AACAA,EAAAA,KAAK,GAAGG,KAAK,CAACU,OAAN,CAAcb,KAAd,KAAwBY,UAAxB,GAAqCZ,KAArC,GAA6C,CAACA,KAAD,CAArD;AACA,QAAMC,SAAS,GAAG,CAACS,OAAO,CAACI,UAA3B;AACA,QAAMC,KAAK,GAAGjB,YAAY,CAACa,EAAD,EAAKX,KAAL,EAAYC,SAAZ,EAAuBS,OAAO,CAACR,UAA/B,CAA1B;AACA,SAAO;AACLS,IAAAA,EADK;AAELF,IAAAA,UAFK;AAGLM,IAAAA,KAHK;AAILC,IAAAA,KAAK,EAAEf,SAAS,GAAGR,YAAY,CAACwB,OAAhB,GAA0BxB,YAAY,CAACyB,KAJlD;AAKLC,IAAAA,SAAS,EAAE,CALN;AAMLC,IAAAA,MAAM,EAAE,CANH;AAOLC,IAAAA,YAAY,EAAEN,KAAK,CAACO;AAPf,GAAP;AASD,CAhBD","sourcesContent":["import { BATCH_STATES, createBatchItem } from \"@rpldy/shared\";\nimport { DEFAULT_FILTER } from \"./defaults\";\nimport { getIsFileList } from \"./utils\";\nlet bCounter = 0;\n\nconst processFiles = (batchId, files, isPending, fileFilter) => Array.prototype //$FlowExpectedError[method-unbinding] flow 0.153 !!!\n.filter.call(files, fileFilter || DEFAULT_FILTER).map(f => createBatchItem(f, batchId, isPending));\n\nexport default ((files, uploaderId, options) => {\n  bCounter += 1;\n  const id = `batch-${bCounter}`;\n  const isFileList = getIsFileList(files);\n  files = Array.isArray(files) || isFileList ? files : [files];\n  const isPending = !options.autoUpload;\n  const items = processFiles(id, files, isPending, options.fileFilter);\n  return {\n    id,\n    uploaderId,\n    items,\n    state: isPending ? BATCH_STATES.PENDING : BATCH_STATES.ADDED,\n    completed: 0,\n    loaded: 0,\n    orgItemCount: items.length\n  };\n});"]},"metadata":{},"sourceType":"module"}