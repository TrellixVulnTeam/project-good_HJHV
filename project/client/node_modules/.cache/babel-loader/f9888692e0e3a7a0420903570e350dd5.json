{"ast":null,"code":"var _jsxFileName = \"D:\\\\project-good\\\\project\\\\client\\\\src\\\\components\\\\new auction\\\\ContinueNewAuction.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport { connect } from \"react-redux\";\nimport { setMyAuctionsToSet } from '../../store/actions/newAuction';\nimport { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\nimport Row from './ContinueNewAuctionRow';\nimport { setUserByStorage, setCurrentAuctionByStorage, setNewAuctionByStorage } from '../../store/actions/user';\nimport moment from 'moment';\nimport DeleteModal from '../user/auction manager/DeleteModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst createData = auction => {\n  let name = auction.name;\n  let productsQty = auction.productList; // let purchasePackagesQty = auction.purchasePackage;\n\n  let lotteriesDate = auction.lotteriesDate ? moment(new Date(auction.lotteriesDate)).format('D/MM/YYYY') : \"\";\n  if (productsQty) productsQty = productsQty.length;else productsQty = 0; // if (purchasePackagesQty) purchasePackagesQty = purchasePackagesQty.length;\n  // else purchasePackagesQty = 0;\n\n  return {\n    name,\n    productsQty,\n\n    /* purchasePackagesQty, */\n    lotteriesDate,\n    products: auction.productList //, purchasePackages: auction.purchasePackage\n\n  };\n};\n\nconst ContinueNewAuction = props => {\n  _s();\n\n  useEffect(() => {\n    let id = localStorage.getItem(\"user\");\n\n    if (id && props.currentUser == null) {\n      // let a_id = localStorage.getItem(\"currentAuction\");\n      let n_a_id = localStorage.getItem(\"newAuction\"); // if (a_id) props.setCurrentAuctionByStorage(a_id);\n\n      if (n_a_id) props.setNewAuctionByStorage(n_a_id);\n      props.setUserByStorage(id);\n    }\n  }, []);\n  useEffect(() => {\n    if (props.currentUser) getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => {\n      if (succ.status != 400) {\n        props.setMyAuctionsToSet(succ.data);\n      }\n    });\n  }, [props.currentUser, props.show_delete]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [props.show_delete && /*#__PURE__*/_jsxDEV(DeleteModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 35\n    }, this), props.myAuctionsToSet && props.myAuctionsToSet.length > 0 ? /*#__PURE__*/_jsxDEV(TableContainer, {\n      component: Paper,\n      id: \"unapproved-auctions-list\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        \"aria-label\": \"collapsible table\",\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: [/*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Chiense auction name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Products\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Lotteries date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(TableCell, {\n              align: \"left\",\n              children: /*#__PURE__*/_jsxDEV(\"b\", {\n                children: \"Continue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this), \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: props.myAuctionsToSet.map(a => {\n            let row = createData(a);\n            return /*#__PURE__*/_jsxDEV(Row, {\n              row: row,\n              auction: a\n            }, row.name, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 36\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 74\n    }, this) : /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"You have no Chinese auctions that you are in the middle of building.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 33\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ContinueNewAuction, \"3ubReDTFssvu4DHeldAg55cW/CI=\");\n\n_c = ContinueNewAuction;\n\nconst mapStateToProps = state => {\n  return {\n    currentUser: state.user.currentUser,\n    myAuctionsToSet: state.user.myAuctionsToSet,\n    show_delete: state.auctionManager.deleteAuctionModal\n  };\n};\n\nexport default connect(mapStateToProps, {\n  setMyAuctionsToSet,\n  setNewAuctionByStorage,\n  setCurrentAuctionByStorage,\n  setUserByStorage\n})(ContinueNewAuction);\n\nvar _c;\n\n$RefreshReg$(_c, \"ContinueNewAuction\");","map":{"version":3,"sources":["D:/project-good/project/client/src/components/new auction/ContinueNewAuction.js"],"names":["React","useEffect","useState","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","connect","setMyAuctionsToSet","getUnapprovedAuctionsByUserFromDB","Row","setUserByStorage","setCurrentAuctionByStorage","setNewAuctionByStorage","moment","DeleteModal","createData","auction","name","productsQty","productList","lotteriesDate","Date","format","length","products","ContinueNewAuction","props","id","localStorage","getItem","currentUser","n_a_id","_id","then","succ","status","data","show_delete","myAuctionsToSet","map","a","row","mapStateToProps","state","user","auctionManager","deleteAuctionModal"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\nimport { connect } from \"react-redux\";\r\nimport { setMyAuctionsToSet } from '../../store/actions/newAuction'\r\nimport { getUnapprovedAuctionsByUserFromDB } from '../../utils/auctionManagerUtils';\r\nimport Row from './ContinueNewAuctionRow'\r\nimport { setUserByStorage, setCurrentAuctionByStorage, setNewAuctionByStorage } from '../../store/actions/user';\r\nimport moment from 'moment'\r\nimport DeleteModal from '../user/auction manager/DeleteModal';\r\n\r\nconst createData = (auction) => {\r\n    let name = auction.name;\r\n    let productsQty = auction.productList;\r\n    // let purchasePackagesQty = auction.purchasePackage;\r\n    let lotteriesDate = auction.lotteriesDate ? moment(new Date(auction.lotteriesDate)).format('D/MM/YYYY') : \"\";\r\n    if (productsQty) productsQty = productsQty.length;\r\n    else productsQty = 0;\r\n    // if (purchasePackagesQty) purchasePackagesQty = purchasePackagesQty.length;\r\n    // else purchasePackagesQty = 0;\r\n    return {\r\n        name, productsQty,/* purchasePackagesQty, */lotteriesDate,\r\n        products: auction.productList\r\n        //, purchasePackages: auction.purchasePackage\r\n    };\r\n}\r\n\r\n\r\nconst ContinueNewAuction = (props) => {\r\n\r\n    useEffect(() => {\r\n        let id = localStorage.getItem(\"user\");\r\n\r\n        if (id && props.currentUser == null) {\r\n\r\n            // let a_id = localStorage.getItem(\"currentAuction\");\r\n            let n_a_id = localStorage.getItem(\"newAuction\");\r\n            // if (a_id) props.setCurrentAuctionByStorage(a_id);\r\n            if (n_a_id) props.setNewAuctionByStorage(n_a_id);\r\n            props.setUserByStorage(id);\r\n        }\r\n\r\n\r\n    }, []);\r\n    useEffect(() => {\r\n        if (props.currentUser)\r\n            getUnapprovedAuctionsByUserFromDB(props.currentUser._id).then(succ => {\r\n                if (succ.status != 400) { props.setMyAuctionsToSet(succ.data); }\r\n            });\r\n    }, [props.currentUser, props.show_delete])\r\n    return (\r\n        <>\r\n            {props.show_delete && <DeleteModal />}\r\n            {props.myAuctionsToSet && props.myAuctionsToSet.length > 0 ? <TableContainer component={Paper} id={\"unapproved-auctions-list\"}>\r\n                <Table aria-label=\"collapsible table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"left\" /> {/* האייקון של פתח/סגור */}\r\n                            <TableCell align=\"left\"><b>Chiense auction name</b></TableCell>\r\n                            <TableCell align=\"left\"><b>Products</b></TableCell>\r\n                            {/* <TableCell align=\"left\"><b>Purchase packages</b></TableCell> */}\r\n                            <TableCell align=\"left\"><b>Lotteries date</b></TableCell>\r\n                            <TableCell align=\"left\"><b>Delete</b></TableCell> {/* האייקון של מחק מכירה זו */}\r\n                            <TableCell align=\"left\"><b>Continue</b></TableCell> {/* האייקון של המשך מכירה זו */}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {props.myAuctionsToSet.map((a) => {\r\n                            let row = createData(a);\r\n                            return <Row key={row.name} row={row} auction={a} />\r\n                        })}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer> : <h1>You have no Chinese auctions that you are in the middle of building.</h1>}\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        currentUser: state.user.currentUser,\r\n        myAuctionsToSet: state.user.myAuctionsToSet,\r\n        show_delete: state.auctionManager.deleteAuctionModal\r\n    };\r\n}\r\nexport default connect(mapStateToProps, { setMyAuctionsToSet, setNewAuctionByStorage, setCurrentAuctionByStorage, setUserByStorage })(ContinueNewAuction);"]},"metadata":{},"sourceType":"module"}