{"ast":null,"code":"import * as actionTypes from '../actionTypes';\nimport axios from 'axios';\nexport const setCurrentUser = user => {\n  return {\n    type: actionTypes.SET_CURRENT_USER,\n    payload: user\n  };\n};\nexport const setUserOrders = orders => {\n  return {\n    type: actionTypes.SET_USER_ORDERS,\n    payload: orders\n  };\n}; //בלחיצה על כפתור הצג הזמנה \n\nexport const getOrderByIdFromDB = order => {\n  let id = order._id;\n  return dispatch => {\n    axios.get(`http://localhost:5000/orders/${id}`).then(succ => {\n      if (succ.status != 400) return succ.data;\n    });\n  };\n};\nexport const addOrder = order => {\n  return {\n    type: actionTypes.ADD_ORDER,\n    payload: order\n  };\n}; // export const addProductToCart = (cnt, product) => {\n//     return {\n//         type: actionTypes.ADD_PRODUCT_TO_CART,\n//         payload: {\n//             cnt: cnt,\n//             product: product\n//         }\n//     }\n// }\n\nexport const signOut = () => {\n  //TODO מה עושה אם אני אומרת לו למחוק אייטם שלא קיים\n  localStorage.setItem(\"login\", \"false\");\n  localStorage.removeItem(\"pass\");\n  localStorage.removeItem(\"email\");\n  localStorage.removeItem(\"name\");\n  return {\n    type: actionTypes.SIGN_OUT\n  };\n};\nexport const updateShoppingCart = arr => {\n  console.log(arr);\n  return {\n    type: actionTypes.UPDATE_SHOPPING_CART,\n    payload: arr\n  };\n}; // export const deleteProductFromCart = (_id) => {\n//     return {\n//         type: actionTypes.DELETE_PRODUCT_FROM_CART,\n//         payload: _id\n//     }\n// }\n\nexport const addOrderToDB = order => {\n  return dispatch => {\n    axios.post(`http://localhost:5000/orders`, order).then(succ => {\n      console.log(succ.data);\n      if (succ.status != 400) dispatch(console.log(succ.data), addOrder(succ.data));\n    });\n  };\n}; //עדכון פרטי משתמש\n\nexport const updateUserInDB = user => {\n  return dispatch => {\n    return axios.put(`http://localhost:5000/users/${user._id}`, user).then(succ => {\n      if (succ.status != 400) {\n        dispatch(setCurrentUser(succ.data));\n      }\n    });\n    ;\n  };\n};\nexport const addProductToShoppingCartInDB = (auctionId, userId, productId, cnt) => {\n  //מוסיף אחד לכמות שקיימת בסל מאותו מוצר\n  return dispatch => {\n    axios.put(`http://localhost:5000/users/addProductToCart/${auctionId}&${userId}&${productId}&${cnt}`).then(succ => {\n      if (succ.status != 400) dispatch(updateShoppingCart(succ.data));\n    });\n  };\n};\nexport const deleteProductFromShoppingCartInDB = (auctionId, userId, productId) => {\n  //מוריד אחד מהכמות שקיימת בסל מאותו מוצר\n  return dispatch => {\n    axios.put(`http://localhost:5000/users/deleteProductFromCart/${auctionId}&${userId}&${productId}`).then(succ => {\n      if (succ.status != 400) dispatch(updateShoppingCart(succ.data));\n    });\n  };\n};","map":{"version":3,"sources":["D:/project-good/project/client/src/store/actions/user.js"],"names":["actionTypes","axios","setCurrentUser","user","type","SET_CURRENT_USER","payload","setUserOrders","orders","SET_USER_ORDERS","getOrderByIdFromDB","order","id","_id","dispatch","get","then","succ","status","data","addOrder","ADD_ORDER","signOut","localStorage","setItem","removeItem","SIGN_OUT","updateShoppingCart","arr","console","log","UPDATE_SHOPPING_CART","addOrderToDB","post","updateUserInDB","put","addProductToShoppingCartInDB","auctionId","userId","productId","cnt","deleteProductFromShoppingCartInDB"],"mappings":"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","sourcesContent":["import * as actionTypes from '../actionTypes';\r\nimport axios from 'axios';\r\n\r\n\r\nexport const setCurrentUser = (user) => {\r\n    return {\r\n        type: actionTypes.SET_CURRENT_USER,\r\n        payload: user\r\n    }\r\n}\r\n\r\n\r\nexport const setUserOrders = (orders) => {\r\n    return {\r\n        type: actionTypes.SET_USER_ORDERS,\r\n        payload: orders\r\n    }\r\n}\r\n\r\n//בלחיצה על כפתור הצג הזמנה \r\nexport const getOrderByIdFromDB = (order) => {\r\n    let id = order._id;\r\n    return (dispatch) => {\r\n        axios.get(`http://localhost:5000/orders/${id}`).then(succ => {\r\n            if (succ.status != 400)\r\n                return succ.data;\r\n        })\r\n    }\r\n}\r\n\r\nexport const addOrder = (order) => {\r\n    return {\r\n        type: actionTypes.ADD_ORDER,\r\n        payload: order\r\n    }\r\n}\r\n\r\n// export const addProductToCart = (cnt, product) => {\r\n//     return {\r\n//         type: actionTypes.ADD_PRODUCT_TO_CART,\r\n//         payload: {\r\n//             cnt: cnt,\r\n//             product: product\r\n//         }\r\n//     }\r\n// }\r\n\r\nexport const signOut = () => {\r\n    //TODO מה עושה אם אני אומרת לו למחוק אייטם שלא קיים\r\n    localStorage.setItem(\"login\", \"false\");\r\n    localStorage.removeItem(\"pass\");\r\n    localStorage.removeItem(\"email\");\r\n    localStorage.removeItem(\"name\");\r\n    return {\r\n        type: actionTypes.SIGN_OUT\r\n    }\r\n}\r\n\r\nexport const updateShoppingCart = (arr) => {\r\n    console.log(arr)\r\n    return {\r\n        type: actionTypes.UPDATE_SHOPPING_CART,\r\n        payload: arr\r\n    }\r\n}\r\n\r\n// export const deleteProductFromCart = (_id) => {\r\n//     return {\r\n//         type: actionTypes.DELETE_PRODUCT_FROM_CART,\r\n//         payload: _id\r\n//     }\r\n// }\r\n\r\n\r\nexport const addOrderToDB = (order) => {\r\n    return (dispatch) => {\r\n        axios.post(`http://localhost:5000/orders`, order).then(succ => {\r\n            console.log(succ.data);\r\n            if (succ.status != 400)\r\n                dispatch(console.log(succ.data), addOrder(succ.data));\r\n        })\r\n    }\r\n}\r\n\r\n//עדכון פרטי משתמש\r\nexport const updateUserInDB = (user) => {\r\n    return (dispatch) => {\r\n        return axios.put(`http://localhost:5000/users/${user._id}`, user).then(succ => {\r\n            if (succ.status != 400) {\r\n                dispatch(setCurrentUser(succ.data))\r\n            }\r\n        });;\r\n    }\r\n\r\n}\r\n\r\nexport const addProductToShoppingCartInDB = (auctionId, userId, productId, cnt) => {\r\n    //מוסיף אחד לכמות שקיימת בסל מאותו מוצר\r\n    return (dispatch) => {\r\n        axios.put(`http://localhost:5000/users/addProductToCart/${auctionId}&${userId}&${productId}&${cnt}`).then(succ => {\r\n            if (succ.status != 400)\r\n                dispatch(updateShoppingCart(succ.data));\r\n        })\r\n    }\r\n}\r\n\r\nexport const deleteProductFromShoppingCartInDB = (auctionId, userId, productId) => {\r\n    //מוריד אחד מהכמות שקיימת בסל מאותו מוצר\r\n    return (dispatch) => {\r\n        axios.put(`http://localhost:5000/users/deleteProductFromCart/${auctionId}&${userId}&${productId}`).then(succ => {\r\n            if (succ.status != 400)\r\n                dispatch(updateShoppingCart(succ.data));\r\n        })\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}