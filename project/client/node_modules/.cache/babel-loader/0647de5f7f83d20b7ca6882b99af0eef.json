{"ast":null,"code":"import * as actionTypes from '../actionTypes';\nimport Auction from '../../models/auction';\nexport const initialState = {\n  newAuction: new Auction(),\n  showSetPackage: false,\n  //האם להציג את קומפוננטת קביעת כמות לחבילה AddPackage\n  showSetProduct: true,\n  //האם להציג את קומפוננטת  AddProductForm\n  finalStepModalIsOpen: true //האם להציג את המודל של האישור הסופי\n\n};\nexport const newAuctionReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SET_NEW_AUCTION:\n      return { ...state,\n        newAuction: action.payload\n      };\n\n    case actionTypes.SHOW_ADD_PACKAGE:\n      {\n        //להציג את הטופס של הוספת חבילה חדשה\n        return { ...state,\n          showSetPackage: true\n        };\n      }\n\n    case actionTypes.ADD_PACKAGE:\n      {\n        //כבר נבדק שלא הוכנה חבילה עם מספר כרטיסים כזה\n        let arr = [...state.newAuction.purchasePackage, action.payload];\n        let tmp = state.newAuction;\n        tmp.purchasePackage = arr;\n        return { ...state,\n          newAuction: tmp,\n          showSetPackage: false\n        };\n      }\n\n    case actionTypes.DELETE_PACKAGE:\n      let arr2 = state.newAuction.purchasePackage.filter(p => p._id !== action.payload._id);\n      let tmp = state.newAuction;\n      tmp.purchasePackage = arr2;\n      return { ...state,\n        newAuction: tmp\n      };\n    // case actionTypes.SET_ORGANIZATION_NAME:\n    //     return {\n    //         ...state,\n    //     }\n    // case actionTypes.SET_ORGANIZATION_TEXT:\n    //     return {\n    //         ...state,\n    //     }\n    // case actionTypes.ADD_PIC_ORGANIZATION:\n    //     let arrrr = [...state., action.payload];\n    //     return {\n    //         ...state,\n    //     }\n    // case actionTypes.SET_TERMS:\n    //     return {\n    //         ...state,\n    //     }\n\n    case actionTypes.SHOW_ADD_PRODUCT:\n      {\n        return { ...state,\n          showSetProduct: action.payload\n        };\n      }\n\n    case actionTypes.ADD_PRODUCT:\n      {\n        let arr = [...state.newAuction.productList, action.payload];\n        let tmp = state.newAuction;\n        tmp.productList = arr;\n        return { ...state,\n          newAuction: tmp,\n          showSetProduct: false\n        };\n      }\n    //מעדכן את רשימת מוצרים\n\n    case actionTypes.SET_PRODUCTS_LIST:\n      {\n        let tmp = state.newAuction;\n        tmp.productList = action.payload;\n        return { ...state,\n          newAuction: tmp\n        };\n      }\n    //מעדכן את רשימת החבילות\n\n    case actionTypes.SET_PACKAGES_LIST:\n      {\n        let tmp = state.newAuction;\n        tmp.purchasePackage = action.payload;\n        return { ...state,\n          newAuction: tmp\n        };\n      }\n\n    case actionTypes.DELETE_PRODUCT:\n      {\n        let arr4 = state.newAuction.productList.filter(p => p._id !== action.payload);\n        let tmp = state.newAuction;\n        tmp.productList = arr4;\n        return { ...state,\n          newAuction: tmp\n        };\n      }\n\n    case actionTypes.SET_FINAL_STEP:\n      return { ...state,\n        finalStepModalIsOpen: action.payload\n      };\n\n    case actionTypes.UPDATE_NEW_AUCTION_STATE:\n      return { ...state,\n        showSetPackage: action.payload.showSetPackage,\n        showSetProduct: action.payload.showSetProduct\n      };\n\n    case actionTypes.RESET_NEW_AUCTION_STATE:\n      //איפוס הסטייט לאחר בניית מכירה\n      return {\n        //TODO מה לעשות פה\n        newAuction: new Auction(),\n        //showSetPrice: false,\n        showSetPackage: false,\n        showSetProduct: true,\n        finalStepModalIsOpen: true\n      };\n  }\n\n  return state;\n};","map":{"version":3,"sources":["D:/project-good/project/client/src/store/reducers/newAuctionState.js"],"names":["actionTypes","Auction","initialState","newAuction","showSetPackage","showSetProduct","finalStepModalIsOpen","newAuctionReducer","state","action","type","SET_NEW_AUCTION","payload","SHOW_ADD_PACKAGE","ADD_PACKAGE","arr","purchasePackage","tmp","DELETE_PACKAGE","arr2","filter","p","_id","SHOW_ADD_PRODUCT","ADD_PRODUCT","productList","SET_PRODUCTS_LIST","SET_PACKAGES_LIST","DELETE_PRODUCT","arr4","SET_FINAL_STEP","UPDATE_NEW_AUCTION_STATE","RESET_NEW_AUCTION_STATE"],"mappings":"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","sourcesContent":["import * as actionTypes from '../actionTypes';\r\nimport Auction from '../../models/auction'\r\nexport const initialState = {\r\n    newAuction: new Auction(),\r\n    showSetPackage: false,//האם להציג את קומפוננטת קביעת כמות לחבילה AddPackage\r\n    showSetProduct: true,//האם להציג את קומפוננטת  AddProductForm\r\n    finalStepModalIsOpen: true//האם להציג את המודל של האישור הסופי\r\n}\r\nexport const newAuctionReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case actionTypes.SET_NEW_AUCTION:\r\n            return {\r\n                ...state,\r\n                newAuction: action.payload\r\n            }\r\n        case actionTypes.SHOW_ADD_PACKAGE: {\r\n            //להציג את הטופס של הוספת חבילה חדשה\r\n            return {\r\n                ...state,\r\n                showSetPackage: true\r\n            }\r\n        }\r\n        case actionTypes.ADD_PACKAGE: {\r\n            //כבר נבדק שלא הוכנה חבילה עם מספר כרטיסים כזה\r\n            let arr = [...state.newAuction.purchasePackage, action.payload];\r\n            let tmp = state.newAuction;\r\n            tmp.purchasePackage = arr;\r\n            return {\r\n                ...state,\r\n                newAuction: tmp,\r\n                showSetPackage: false\r\n            }\r\n        }\r\n        case actionTypes.DELETE_PACKAGE:\r\n            let arr2 = state.newAuction.purchasePackage.\r\n                filter(p => p._id !== action.payload._id);\r\n            let tmp = state.newAuction;\r\n            tmp.purchasePackage = arr2;\r\n            return {\r\n                ...state,\r\n                newAuction: tmp,\r\n            };\r\n        // case actionTypes.SET_ORGANIZATION_NAME:\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        // case actionTypes.SET_ORGANIZATION_TEXT:\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        // case actionTypes.ADD_PIC_ORGANIZATION:\r\n        //     let arrrr = [...state., action.payload];\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n        // case actionTypes.SET_TERMS:\r\n        //     return {\r\n        //         ...state,\r\n\r\n        //     }\r\n\r\n        case actionTypes.SHOW_ADD_PRODUCT: {\r\n            return {\r\n                ...state,\r\n                showSetProduct: action.payload\r\n            }\r\n        }\r\n        case actionTypes.ADD_PRODUCT: {\r\n            let arr = [...state.newAuction.productList, action.payload];\r\n            let tmp = state.newAuction;\r\n            tmp.productList = arr;\r\n            return {\r\n                ...state,\r\n                newAuction: tmp,\r\n                showSetProduct: false\r\n            }\r\n        }\r\n        //מעדכן את רשימת מוצרים\r\n        case actionTypes.SET_PRODUCTS_LIST: {\r\n            let tmp = state.newAuction;\r\n            tmp.productList = action.payload\r\n            return {\r\n                ...state,\r\n                newAuction: tmp\r\n            }\r\n        }\r\n        //מעדכן את רשימת החבילות\r\n        case actionTypes.SET_PACKAGES_LIST: {\r\n            let tmp = state.newAuction;\r\n            tmp.purchasePackage = action.payload;\r\n            return {\r\n                ...state,\r\n                newAuction: tmp\r\n            }\r\n        }\r\n        case actionTypes.DELETE_PRODUCT: {\r\n            let arr4 = state.newAuction.productList.\r\n                filter(p => p._id !== action.payload);\r\n            let tmp = state.newAuction;\r\n            tmp.productList = arr4;\r\n            return {\r\n                ...state,\r\n                newAuction: tmp\r\n            };\r\n        }\r\n        case actionTypes.SET_FINAL_STEP:\r\n            return {\r\n                ...state,\r\n                finalStepModalIsOpen: action.payload\r\n            }\r\n        case actionTypes.UPDATE_NEW_AUCTION_STATE:\r\n            return {\r\n                ...state,\r\n                showSetPackage: action.payload.showSetPackage,\r\n                showSetProduct: action.payload.showSetProduct,\r\n            }\r\n        case actionTypes.RESET_NEW_AUCTION_STATE:\r\n            //איפוס הסטייט לאחר בניית מכירה\r\n            return {\r\n                //TODO מה לעשות פה\r\n                newAuction: new Auction(),\r\n                //showSetPrice: false,\r\n                showSetPackage: false,\r\n                showSetProduct: true,\r\n                finalStepModalIsOpen: true\r\n            }\r\n    }\r\n    return state;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}