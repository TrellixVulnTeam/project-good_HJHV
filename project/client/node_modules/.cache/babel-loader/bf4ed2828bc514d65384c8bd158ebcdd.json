{"ast":null,"code":"var _jsxFileName = \"D:\\\\project-good\\\\project\\\\client\\\\src\\\\components\\\\auction\\\\Clock.js\";\nimport { connect } from \"react-redux\";\nimport React from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Clock extends React.Component {\n  constructor(props) {\n    super(props);\n    let fixDate = props.theDate; // עד איזה זמן\n\n    let currDate = new Date(); // מה הזמן כעת\n\n    this.state = {\n      fixDate,\n      diff: fixDate - currDate\n    };\n  }\n\n  tick() {\n    //מעדכנת את הסטייט\n    this.setState((prevState, props) => ({\n      diff: prevState.fixDate - new Date().getTime()\n    }));\n  }\n\n  componentDidMount() {\n    //כשהקומפוננטה נטענת נגדיר את פונ' טיק שתתבצע כל שניה\n    this.interval = setInterval(() => this.tick(), 1000);\n  }\n\n  componentWillUnmount() {\n    //כשהקומפוננטה נסגרת נעצור את פעילות הפונ' טיק\n    clearInterval(this.interval);\n  }\n\n  render() {\n    let {\n      diff\n    } = this.state;\n    let hours = Math.floor(diff / (60 * 60 * 1000));\n    let mins = Math.floor((diff - hours * 60 * 60 * 1000) / (60 * 1000));\n    let secs = Math.floor((diff - hours * 60 * 60 * 1000 - mins * 60 * 1000) / 1000);\n\n    if (diff <= 0) {\n      clearInterval(this.interval); //אם יעשו ריענון כשהשעון שלילי נרצה שיציג 00:00:00\n\n      hours = 0;\n      mins = 0;\n      secs = 0;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [String(hours).padStart(2, '0'), \":\", String(mins).padStart(2, '0'), \":\", String(secs).padStart(2, '0')]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    theDate: state.currentAuction.registrationEndDate\n  };\n};\n\nexport default connect(mapStateToProps, {})(Clock);","map":{"version":3,"sources":["D:/project-good/project/client/src/components/auction/Clock.js"],"names":["connect","React","Clock","Component","constructor","props","fixDate","theDate","currDate","Date","state","diff","tick","setState","prevState","getTime","componentDidMount","interval","setInterval","componentWillUnmount","clearInterval","render","hours","Math","floor","mins","secs","String","padStart","mapStateToProps","currentAuction","registrationEndDate"],"mappings":";AAAA,SAASA,OAAT,QAAwB,aAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;AACA,MAAMC,KAAN,SAAoBD,KAAK,CAACE,SAA1B,CAAoC;AAChCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,QAAIC,OAAO,GAAGD,KAAK,CAACE,OAApB,CAFe,CAEc;;AAC7B,QAAIC,QAAQ,GAAG,IAAIC,IAAJ,EAAf,CAHe,CAGW;;AAC1B,SAAKC,KAAL,GAAa;AAAEJ,MAAAA,OAAF;AAAWK,MAAAA,IAAI,EAAEL,OAAO,GAAGE;AAA3B,KAAb;AACH;;AAEDI,EAAAA,IAAI,GAAG;AACH;AACA,SAAKC,QAAL,CAAc,CAACC,SAAD,EAAYT,KAAZ,MAAuB;AACjCM,MAAAA,IAAI,EAAEG,SAAS,CAACR,OAAV,GAAqB,IAAIG,IAAJ,EAAD,CAAaM,OAAb;AADO,KAAvB,CAAd;AAGH;;AACDC,EAAAA,iBAAiB,GAAG;AAChB;AACA,SAAKC,QAAL,GAAgBC,WAAW,CAAC,MAAM,KAAKN,IAAL,EAAP,EAAoB,IAApB,CAA3B;AACH;;AACDO,EAAAA,oBAAoB,GAAG;AACnB;AACAC,IAAAA,aAAa,CAAC,KAAKH,QAAN,CAAb;AACH;;AAEDI,EAAAA,MAAM,GAAG;AACL,QAAI;AAAEV,MAAAA;AAAF,QAAW,KAAKD,KAApB;AACA,QAAIY,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWb,IAAI,IAAI,KAAK,EAAL,GAAU,IAAd,CAAf,CAAZ;AACA,QAAIc,IAAI,GAAGF,IAAI,CAACC,KAAL,CAAW,CAACb,IAAI,GAAIW,KAAK,GAAG,EAAR,GAAa,EAAb,GAAkB,IAA3B,KAAqC,KAAK,IAA1C,CAAX,CAAX;AACA,QAAII,IAAI,GAAGH,IAAI,CAACC,KAAL,CAAW,CAACb,IAAI,GAAIW,KAAK,GAAG,EAAR,GAAa,EAAb,GAAkB,IAA1B,GAAmCG,IAAI,GAAG,EAAP,GAAY,IAAhD,IAAyD,IAApE,CAAX;;AACA,QAAId,IAAI,IAAI,CAAZ,EAAe;AACXS,MAAAA,aAAa,CAAC,KAAKH,QAAN,CAAb,CADW,CAEX;;AACAK,MAAAA,KAAK,GAAG,CAAR;AAAWG,MAAAA,IAAI,GAAG,CAAP;AAAUC,MAAAA,IAAI,GAAG,CAAP;AACxB;;AACD,wBACI;AAAA,6BACI;AAAA,mBAAKC,MAAM,CAACL,KAAD,CAAN,CAAcM,QAAd,CAAuB,CAAvB,EAA0B,GAA1B,CAAL,OAAsCD,MAAM,CAACF,IAAD,CAAN,CAAaG,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAAtC,OAAsED,MAAM,CAACD,IAAD,CAAN,CAAaE,QAAb,CAAsB,CAAtB,EAAyB,GAAzB,CAAtE;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ;AAKH;;AAtC+B;;AAyCpC,MAAMC,eAAe,GAAInB,KAAD,IAAW;AAC/B,SAAO;AACHH,IAAAA,OAAO,EAAEG,KAAK,CAACoB,cAAN,CAAqBC;AAD3B,GAAP;AAGH,CAJD;;AAMA,eAAe/B,OAAO,CAAC6B,eAAD,EAAkB,EAAlB,CAAP,CAA6B3B,KAA7B,CAAf","sourcesContent":["import { connect } from \"react-redux\";\r\nimport React from \"react\";\r\nclass Clock extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        let fixDate = props.theDate; // עד איזה זמן\r\n        let currDate = new Date();// מה הזמן כעת\r\n        this.state = { fixDate, diff: fixDate - currDate };\r\n    }\r\n\r\n    tick() {\r\n        //מעדכנת את הסטייט\r\n        this.setState((prevState, props) => ({\r\n            diff: prevState.fixDate - (new Date()).getTime(),\r\n        }));\r\n    }\r\n    componentDidMount() {\r\n        //כשהקומפוננטה נטענת נגדיר את פונ' טיק שתתבצע כל שניה\r\n        this.interval = setInterval(() => this.tick(), 1000);\r\n    }\r\n    componentWillUnmount() {\r\n        //כשהקומפוננטה נסגרת נעצור את פעילות הפונ' טיק\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    render() {\r\n        let { diff } = this.state;\r\n        let hours = Math.floor(diff / (60 * 60 * 1000));\r\n        let mins = Math.floor((diff - (hours * 60 * 60 * 1000)) / (60 * 1000));\r\n        let secs = Math.floor((diff - (hours * 60 * 60 * 1000) - (mins * 60 * 1000)) / 1000);\r\n        if (diff <= 0) {\r\n            clearInterval(this.interval);\r\n            //אם יעשו ריענון כשהשעון שלילי נרצה שיציג 00:00:00\r\n            hours = 0; mins = 0; secs = 0;\r\n        }\r\n        return (\r\n            <div>\r\n                <h2>{String(hours).padStart(2, '0')}:{String(mins).padStart(2, '0')}:{String(secs).padStart(2, '0')}</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        theDate: state.currentAuction.registrationEndDate\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {})(Clock);"]},"metadata":{},"sourceType":"module"}